System.register(["./p-94251eb8.system.js"],function(e){"use strict";var t,r,s;return{setters:[function(e){t=e.r;r=e.h;s=e.g}],execute:function(){var n=e("app_home",function(){function e(e){var s=this;t(this,e);this.cacheQS=(new Date).getTime()+"";this.mode="input";this.start=function(){if(!s.urls){return}var e=new Set;for(var t=0,r=s.urls.split(/[\r\n]+/);t<r.length;t++){var n=r[t];n=n.trim();if(n){e.add(n)}}if(e.size==0){return}s.urlList=e.slice();s.checkPos=0;s.results=[];s.mode="check"};this.renderInput=function(){return[r("div",{class:"urls-box"},r("textarea",{class:"textarea",placeholder:"Input image urls ...",onInput:function(e){s.urls=e.target.value.trim()},value:s.urls})),r("div",{class:"start-box"},r("button",{class:"button large is-primary",disabled:!s.urls,onClick:function(){s.start()}},"START"))]};this.imgSuccess=function(e){var t=s.urlList[s.checkPos];s.results.push({url:t,time:new Date,err:e});if(s.checkPos==s.urlList.length-1){s.mode="end"}else{s.checkPos++}};this.download=function(){var e="URL,STATUS\r\n";for(var t=0,r=s.results;t<r.length;t++){var n=r[t];var l=n.err?"ERROR":"OK";e+=n.url+","+l+"\r\n"}var u=new Blob([e],{type:"text/plain"});var i=s.element.querySelector(".download-box").querySelector("a");i.download="imageurls.csv";i.href=URL.createObjectURL(u);i.click()};this.renderProcess=function(){var e=s.urlList[s.checkPos];var t="";var n="";if(s.mode=="check"){t=e;if(t.indexOf("?")<0){t+="?"+s.cacheQS}else{t+="&"+s.cacheQS}n=e}var l=function(){if(t){return r("img",{src:t,onLoad:function(){s.imgSuccess(false)},onError:function(){s.imgSuccess(true)}})}var e=[];var n=0;for(var l=0,u=s.results;l<u.length;l++){var i=u[l];e.push(r("tr",null,r("td",null,i.url),r("td",null,i.err?"ERROR":"OK")));n++;if(n>1e3){e.push(r("tr",null,r("td",{class:"has-text-centered",colSpan:2},r("div",null,"ï¸™"),r("div",{class:"has-text-danger"},"PLEASE DOWNLOAD RESULTS"))));break}}return[r("table",{class:"table is-fullwidth"},r("thead",null,r("tr",null,r("th",null,"URL"),r("th",null,"STATUS"))),r("tbody",null,e))]};return[r("div",{class:"img-box"},l()),r("div",{class:"progress-box"},r("progress",{class:"progress is-primary",value:s.checkPos+1,max:s.urlList.length}),r("div",{class:"msg-box"},r("span",{class:"msg"},n),r("span",null,s.checkPos+1,"/",s.urlList.length))),r("div",{class:"download-box"},r("button",{class:"button is-success",onClick:function(){s.download()}},"DOWNLOAD RESULTS(CSV)"),r("a",null)),r("div",{class:"back-box"},r("button",{class:"button is-light",onClick:function(){s.mode="input"}},"BACK"))]}}e.prototype.render=function(){return r("div",{class:"app-home"},r("header",null,r("h1",null,"Image URL Cheker")),this.mode=="input"&&this.renderInput(),this.mode!="input"&&this.renderProcess())};Object.defineProperty(e.prototype,"element",{get:function(){return s(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"app-home .app-home{padding:10px}app-home header{padding:5px;text-align:center}app-home header h1{font-size:25px}app-home .urls-box textarea{height:400px}app-home .start-box{text-align:center;margin-top:10px}app-home .img-box{text-align:center;height:300px;overflow:scroll}app-home .img-box img{max-width:80%;height:100%}app-home .progress-box{margin-top:10px}app-home .progress-box .progress{margin-bottom:0}app-home .progress-box .msg-box{display:-ms-flexbox;display:flex}app-home .progress-box .msg-box .msg{-ms-flex-positive:2;flex-grow:2}app-home .download-box{margin-top:10px;text-align:center}app-home .download-box a{display:none}app-home .back-box{margin-top:20px;text-align:center}"},enumerable:true,configurable:true});return e}())}}});